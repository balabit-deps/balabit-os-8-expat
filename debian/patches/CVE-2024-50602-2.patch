From 5fb89e7b3afa1c314b34834fe729cd063f65a4d4 Mon Sep 17 00:00:00 2001
From: Sebastian Pipping <sebastian@pipping.org>
Date: Mon, 21 Oct 2024 01:46:11 +0200
Subject: [PATCH] lib: Be explicit about XML_PARSING in XML_StopParser

---
 expat/lib/xmlparse.c | 5 ++++-
 1 file changed, 4 insertions(+), 1 deletion(-)

Index: expat-2.2.9/expat/lib/xmlparse.c
===================================================================
--- expat-2.2.9.orig/expat/lib/xmlparse.c
+++ expat-2.2.9/expat/lib/xmlparse.c
@@ -2073,7 +2073,7 @@ XML_StopParser(XML_Parser parser, XML_Bo
   case XML_FINISHED:
     parser->m_errorCode = XML_ERROR_FINISHED;
     return XML_STATUS_ERROR;
-  default:
+  case XML_PARSING:
     if (resumable) {
 #ifdef XML_DTD
       if (parser->m_isParamEntity) {
@@ -2084,6 +2084,9 @@ XML_StopParser(XML_Parser parser, XML_Bo
       parser->m_parsingStatus.parsing = XML_SUSPENDED;
     } else
       parser->m_parsingStatus.parsing = XML_FINISHED;
+    break;
+  default:
+    assert(0);
   }
   return XML_STATUS_OK;
 }
